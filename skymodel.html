
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>SkyModel Class &#8212; pyradiosky 0.1.dev1+g9c519d9.add.rtd documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Utility Functions" href="utility_functions.html" />
    <link rel="prev" title="SkyModel Parameters" href="skymodel_parameters.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="skymodel-class">
<h1>SkyModel Class<a class="headerlink" href="#skymodel-class" title="Permalink to this headline">¶</a></h1>
<p>SkyModel is the main user class. It is a container for point source and
diffuse models that can be interacted with directly and it provides import and
export functionality.</p>
<dl class="py class">
<dt id="pyradiosky.SkyModel">
<em class="property">class </em><code class="sig-prename descclassname">pyradiosky.</code><code class="sig-name descname">SkyModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ra</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stokes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">spectral_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">freq_array</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">reference_frequency</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">spectral_index</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nside</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">hpx_inds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pos_tol</span><span class="o">=</span><span class="default_value">2.220446049250313e-16</span></em>, <em class="sig-param"><span class="n">extended_model_group</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">beam_amp</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">history</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Object to hold point source and diffuse models.</p>
<p>Defines a set of components at given ICRS ra/dec coordinates,
with flux densities defined by stokes parameters.</p>
<p>Flux densities defined are by stokes parameters.
The attribute Ncomponents gives the number of source components.</p>
<dl class="simple">
<dt>Contains methods to:</dt><dd><ul class="simple">
<li><p>Read and write different catalog formats.</p></li>
<li><p>Calculate source positions.</p></li>
<li><p>Calculate local coherency matrix in a local topocentric frame.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>array_like of str</em>) – Unique identifier for each source component, shape (Ncomponents,).
Not used if nside is set.</p></li>
<li><p><strong>ra</strong> (<em>astropy Longitude object</em>) – source RA in J2000 (or ICRS) coordinates, shape (Ncomponents,).</p></li>
<li><p><strong>dec</strong> (<em>astropy Latitude object</em>) – source Dec in J2000 (or ICRS) coordinates, shape (Ncomponents,).</p></li>
<li><p><strong>stokes</strong> (<em>array_like of float</em>) – 4 element vector giving the source [I, Q, U, V], shape (4, Nfreqs, Ncomponents).</p></li>
<li><p><strong>spectral_type</strong> (<em>str</em>) – Indicates how fluxes should be calculated at each frequency.
Options:
- ‘flat’ : Flat spectrum.
- ‘full’ : Flux is defined by a saved value at each frequency.
- ‘subband’ : Flux is given at a set of band centers. (TODO)
- ‘spectral_index’ : Flux is given at a reference frequency. (TODO)</p></li>
<li><p><strong>freq_array</strong> (<em>astropy Quantity</em>) – Array of frequencies that fluxes are provided for, shape (Nfreqs,).</p></li>
<li><p><strong>reference_frequency</strong> (<em>astropy Quantity</em>) – Reference frequencies of flux values, shape (Ncomponents,).</p></li>
<li><p><strong>spectral_index</strong> (<em>array_like of float</em>) – Spectral index of each source, shape (Ncomponents).
None if spectral_type is not ‘spectral_index’.</p></li>
<li><p><strong>nside</strong> (<em>int</em>) – nside parameter for HEALPix maps.</p></li>
<li><p><strong>hpx_inds</strong> (<em>array_like of int</em>) – Indices for HEALPix maps, only used if nside is set.</p></li>
<li><p><strong>pos_tol</strong> (<em>float</em>) – position tolerance in degrees, defaults to minimum float in numpy
position tolerance in degrees</p></li>
<li><p><strong>extended_model_group</strong> (<em>array_like of int</em>) – Identifier that groups components of an extended source model.
-1 for point sources, shape (Ncomponents,).</p></li>
<li><p><strong>beam_amp</strong> (<em>array_like of float</em>) – Beam amplitude at the source position, shape (4, Nfreqs, Ncomponents).
4 element vector corresponds to [XX, YY, XY, YX] instrumental
polarizations.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pyradiosky.SkyModel.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">check_extra</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">run_check_acceptability</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all required parameters are set reasonably.</p>
<p>Check that required parameters exist and have appropriate shapes.
Optionally check if the values are acceptable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>check_extra</strong> (<em>bool</em>) – Option to check optional parameters as well as required ones.</p></li>
<li><p><strong>run_check_acceptability</strong> (<em>bool</em>) – Option to check if values in required parameters are acceptable.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.coherency_calc">
<code class="sig-name descname">coherency_calc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">deprecated_location</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.coherency_calc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.coherency_calc" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the local coherency in alt/az basis.</p>
<p>SkyModel.update_positions() must be run prior to this method.</p>
<p>The coherency is a 2x2 matrix giving electric field correlation in Jy.
It’s specified on the object as a coherency in the ra/dec basis,
but must be rotated into local alt/az.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>deprecated_location</strong> (<em>EarthLocation object</em>) – This keyword is deprecated. It is preserved to maintain backwards
compatibility and sets the EarthLocation on this SkyModel object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><em>array of float</em> – local coherency in alt/az basis, shape (2, 2, Nfreqs, Ncomponents)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.from_recarray">
<code class="sig-name descname">from_recarray</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">recarray_in</span></em>, <em class="sig-param"><span class="n">run_check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_extra</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">run_check_acceptability</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.from_recarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.from_recarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize this object from a recarray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>recarray_in</strong> (<em>recarray</em>) – recarray to turn into a SkyModel object.</p></li>
<li><p><strong>run_check</strong> (<em>bool</em>) – Option to check for the existence and proper shapes of parameters
after downselecting data on this object (the default is True,
meaning the check will be run).</p></li>
<li><p><strong>check_extra</strong> (<em>bool</em>) – Option to check optional parameters as well as required ones (the
default is True, meaning the optional parameters will be checked).</p></li>
<li><p><strong>run_check_acceptability</strong> (<em>bool</em>) – Option to check acceptable range of the values of parameters after
downselecting data on this object (the default is True, meaning the
acceptable range check will be done).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.read_gleam_catalog">
<code class="sig-name descname">read_gleam_catalog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gleam_file</span></em>, <em class="sig-param"><span class="n">spectral_type</span><span class="o">=</span><span class="default_value">'flat'</span></em>, <em class="sig-param"><span class="n">source_select_kwds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">run_check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_extra</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">run_check_acceptability</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.read_gleam_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.read_gleam_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the GLEAM votable catalog file into this object.</p>
<p>Tested on: GLEAM EGC catalog, version 2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gleam_file</strong> (<em>str</em>) – Path to GLEAM votable catalog file.</p></li>
<li><p><strong>spectral_type</strong> (<em>str</em>) – One of ‘flat’, ‘subband’ or ‘spectral_index’. If set to ‘flat’, the
wide band integrated flux will be used, if set to ‘spectral_index’ the
fitted flux at 200 MHz will be used for the flux column.</p></li>
<li><p><strong>return_table</strong> (<em>bool, optional</em>) – Whether to return the astropy table instead of a SkyModel object.</p></li>
<li><p><strong>source_select_kwds</strong> (<em>dict, optional</em>) – Dictionary of keywords for source selection Valid options:</p>
<ul>
<li><p><cite>lst_array</cite>: For coarse RA horizon cuts, lsts used in the simulation [radians]</p></li>
<li><dl class="simple">
<dt><cite>latitude_deg</cite>: Latitude of telescope in degrees. Used for declination coarse</dt><dd><p>horizon cut.</p>
</dd>
</dl>
</li>
<li><p><cite>horizon_buffer</cite>: Angle (float, in radians) of buffer for coarse horizon cut.
Default is about 10 minutes of sky rotation. (See caveats in
<code class="xref py py-func docutils literal notranslate"><span class="pre">array_to_skymodel()</span></code> docstring)</p></li>
<li><p><cite>min_flux</cite>: Minimum stokes I flux to select [Jy]</p></li>
<li><p><cite>max_flux</cite>: Maximum stokes I flux to select [Jy]</p></li>
</ul>
</li>
<li><p><strong>run_check</strong> (<em>bool</em>) – Option to check for the existence and proper shapes of parameters
after downselecting data on this object (the default is True,
meaning the check will be run).</p></li>
<li><p><strong>check_extra</strong> (<em>bool</em>) – Option to check optional parameters as well as required ones (the
default is True, meaning the optional parameters will be checked).</p></li>
<li><p><strong>run_check_acceptability</strong> (<em>bool</em>) – Option to check acceptable range of the values of parameters after
downselecting data on this object (the default is True, meaning the
acceptable range check will be done).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.read_healpix_hdf5">
<code class="sig-name descname">read_healpix_hdf5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hdf5_filename</span></em>, <em class="sig-param"><span class="n">run_check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_extra</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">run_check_acceptability</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.read_healpix_hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.read_healpix_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Read hdf5 healpix files into this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hdf5_filename</strong> (<em>str</em>) – Path and name of the hdf5 file to read.</p></li>
<li><p><strong>run_check</strong> (<em>bool</em>) – Option to check for the existence and proper shapes of parameters
after downselecting data on this object (the default is True,
meaning the check will be run).</p></li>
<li><p><strong>check_extra</strong> (<em>bool</em>) – Option to check optional parameters as well as required ones (the
default is True, meaning the optional parameters will be checked).</p></li>
<li><p><strong>run_check_acceptability</strong> (<em>bool</em>) – Option to check acceptable range of the values of parameters after
downselecting data on this object (the default is True, meaning the
acceptable range check will be done).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Currently, this function only converts a HEALPix map with a frequency axis.</p>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.read_idl_catalog">
<code class="sig-name descname">read_idl_catalog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename_sav</span></em>, <em class="sig-param"><span class="n">expand_extended</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">source_select_kwds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">run_check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_extra</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">run_check_acceptability</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.read_idl_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.read_idl_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in an FHD-readable IDL .sav file catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename_sav</strong> (<em>str</em>) – Path to IDL .sav file.</p></li>
<li><p><strong>expand_extended</strong> (<em>bool</em>) – If True, return extended source components.
Default: True</p></li>
<li><p><strong>source_select_kwds</strong> (<em>dict, optional</em>) – Dictionary of keywords for source selection. Valid options:</p>
<ul>
<li><p><cite>lst_array</cite>: For coarse RA horizon cuts, lsts used in the simulation [radians]</p></li>
<li><p><cite>latitude_deg</cite>: Latitude of telescope in degrees. Used for declination coarse</p></li>
<li><p>horizon cut.</p></li>
<li><p><cite>horizon_buffer</cite>: Angle (float, in radians) of buffer for coarse horizon cut.
Default is about 10 minutes of sky rotation. (See caveats in
<code class="xref py py-func docutils literal notranslate"><span class="pre">array_to_skymodel()</span></code> docstring)</p></li>
<li><p><cite>min_flux</cite>: Minimum stokes I flux to select [Jy]</p></li>
<li><p><cite>max_flux</cite>: Maximum stokes I flux to select [Jy]</p></li>
</ul>
</li>
<li><p><strong>run_check</strong> (<em>bool</em>) – Option to check for the existence and proper shapes of parameters
after downselecting data on this object (the default is True,
meaning the check will be run).</p></li>
<li><p><strong>check_extra</strong> (<em>bool</em>) – Option to check optional parameters as well as required ones (the
default is True, meaning the optional parameters will be checked).</p></li>
<li><p><strong>run_check_acceptability</strong> (<em>bool</em>) – Option to check acceptable range of the values of parameters after
downselecting data on this object (the default is True, meaning the
acceptable range check will be done).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.read_text_catalog">
<code class="sig-name descname">read_text_catalog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">catalog_csv</span></em>, <em class="sig-param"><span class="n">source_select_kwds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">run_check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_extra</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">run_check_acceptability</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.read_text_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.read_text_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a text file of sources into this object.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul>
<li><p><strong>catalog_csv</strong> (<em>str</em>) – Path to tab separated value file with the following required columns:
*  <cite>Source_ID</cite>: source name as a string of maximum 10 characters
*  <cite>ra_j2000</cite>: right ascension at J2000 epoch, in decimal degrees
*  <cite>dec_j2000</cite>: declination at J2000 epoch, in decimal degrees
*  <cite>Flux [Jy]</cite>: Stokes I flux density in Janskys</p>
<p>If flux is specified at multiple frequencies (must be the same set for all
components), the frequencies must be included in each column name,
e.g. <cite>Flux at 150 MHz [Jy]</cite>. Recognized units are (‘Hz’, ‘kHz’, ‘MHz’ or ‘GHz’):</p>
<p>If flux is only specified at one reference frequency (can be different per
component), a frequency column should be added (note: assumed to be in Hz):
*  <cite>Frequency</cite>: reference frequency [Hz]</p>
<p>Optionally a spectral index can be specified per component with:
*  <cite>Spectral_Index</cite>: spectral index</p>
</li>
<li><p><strong>source_select_kwds</strong> (<em>dict, optional</em>) – Dictionary of keywords for source selection. Valid options:</p>
<ul class="simple">
<li><p><cite>lst_array</cite>: For coarse RA horizon cuts, lsts used in the simulation [radians]</p></li>
<li><p><cite>latitude_deg</cite>: Latitude of telescope in degrees. Used for declination coarse</p></li>
<li><p>horizon cut.</p></li>
<li><p><cite>horizon_buffer</cite>: Angle (float, in radians) of buffer for coarse horizon cut.
Default is about 10 minutes of sky rotation. (See caveats in
<code class="xref py py-func docutils literal notranslate"><span class="pre">array_to_skymodel()</span></code> docstring)</p></li>
<li><p><cite>min_flux</cite>: Minimum stokes I flux to select [Jy]</p></li>
<li><p><cite>max_flux</cite>: Maximum stokes I flux to select [Jy]</p></li>
</ul>
</li>
<li><p><strong>run_check</strong> (<em>bool</em>) – Option to check for the existence and proper shapes of parameters
after downselecting data on this object (the default is True,
meaning the check will be run).</p></li>
<li><p><strong>check_extra</strong> (<em>bool</em>) – Option to check optional parameters as well as required ones (the
default is True, meaning the optional parameters will be checked).</p></li>
<li><p><strong>run_check_acceptability</strong> (<em>bool</em>) – Option to check acceptable range of the values of parameters after
downselecting data on this object (the default is True, meaning the
acceptable range check will be done).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.read_votable_catalog">
<code class="sig-name descname">read_votable_catalog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">votable_file</span></em>, <em class="sig-param"><span class="n">table_name</span></em>, <em class="sig-param"><span class="n">id_column</span></em>, <em class="sig-param"><span class="n">ra_column</span></em>, <em class="sig-param"><span class="n">dec_column</span></em>, <em class="sig-param"><span class="n">flux_columns</span></em>, <em class="sig-param"><span class="n">reference_frequency</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">freq_array</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">spectral_index_column</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">source_select_kwds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">run_check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_extra</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">run_check_acceptability</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.read_votable_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.read_votable_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a votable catalog file into this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>votable_file</strong> (<em>str</em>) – Path to votable catalog file.</p></li>
<li><p><strong>table_name</strong> (<em>str</em>) – Part of expected table name. Should match only one table name in votable_file.</p></li>
<li><p><strong>id_column</strong> (<em>str</em>) – Part of expected ID column. Should match only one column in the table.</p></li>
<li><p><strong>ra_column</strong> (<em>str</em>) – Part of expected RA column. Should match only one column in the table.</p></li>
<li><p><strong>dec_column</strong> (<em>str</em>) – Part of expected Dec column. Should match only one column in the table.</p></li>
<li><p><strong>flux_columns</strong> (<em>str or list of str</em>) – Part of expected Flux column(s). Each one should match only one column in the table.</p></li>
<li><p><strong>reference_frequency</strong> (<em>astropy Quantity</em>) – Reference frequency for flux values, assumed to be the same value for all rows.</p></li>
<li><p><strong>freq_array</strong> (<em>astropy Quantity</em>) – Frequencies corresponding to flux_columns (should be same length).
Required for multiple flux columns.</p></li>
<li><p><strong>return_table</strong> (<em>bool, optional</em>) – Whether to return the astropy table instead of a list of Source objects.</p></li>
<li><p><strong>source_select_kwds</strong> (<em>dict, optional</em>) – Dictionary of keywords for source selection Valid options:</p>
<ul>
<li><p><cite>lst_array</cite>: For coarse RA horizon cuts, lsts used in the simulation [radians]</p></li>
<li><dl class="simple">
<dt><cite>latitude_deg</cite>: Latitude of telescope in degrees. Used for declination coarse</dt><dd><p>horizon cut.</p>
</dd>
</dl>
</li>
<li><p><cite>horizon_buffer</cite>: Angle (float, in radians) of buffer for coarse horizon cut.
Default is about 10 minutes of sky rotation. (See caveats in
<code class="xref py py-func docutils literal notranslate"><span class="pre">source_cuts()</span></code> docstring)</p></li>
<li><p><cite>min_flux</cite>: Minimum stokes I flux to select [Jy]</p></li>
<li><p><cite>max_flux</cite>: Maximum stokes I flux to select [Jy]</p></li>
</ul>
</li>
<li><p><strong>run_check</strong> (<em>bool</em>) – Option to check for the existence and proper shapes of parameters
after downselecting data on this object (the default is True,
meaning the check will be run).</p></li>
<li><p><strong>check_extra</strong> (<em>bool</em>) – Option to check optional parameters as well as required ones (the
default is True, meaning the optional parameters will be checked).</p></li>
<li><p><strong>run_check_acceptability</strong> (<em>bool</em>) – Option to check acceptable range of the values of parameters after
downselecting data on this object (the default is True, meaning the
acceptable range check will be done).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.select">
<code class="sig-name descname">select</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">component_inds</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">run_check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_extra</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">run_check_acceptability</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Downselect data to keep on the object along various axes.</p>
<p>Currently this only supports downselecting based on the component axis,
but this will be expanded to support other axes as well.</p>
<p>The history attribute on the object will be updated to identify the
operations performed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>component_inds</strong> (<em>array_like of int</em>) – Component indices to keep on the object.</p></li>
<li><p><strong>run_check</strong> (<em>bool</em>) – Option to check for the existence and proper shapes of parameters
after downselecting data on this object (the default is True,
meaning the check will be run).</p></li>
<li><p><strong>check_extra</strong> (<em>bool</em>) – Option to check optional parameters as well as required ones (the
default is True, meaning the optional parameters will be checked).</p></li>
<li><p><strong>run_check_acceptability</strong> (<em>bool</em>) – Option to check acceptable range of the values of parameters after
downselecting data on this object (the default is True, meaning the
acceptable range check will be done).</p></li>
<li><p><strong>inplace</strong> (<em>bool</em>) – Option to perform the select directly on self or return a new SkyModel
object with just the selected data (the default is True, meaning the
select will be done on self).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.set_spectral_type_params">
<code class="sig-name descname">set_spectral_type_params</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">spectral_type</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.set_spectral_type_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.set_spectral_type_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set parameters depending on spectral_type.</p>
<p>Deprecated, use _set_spectral_type_params</p>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.source_cuts">
<code class="sig-name descname">source_cuts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">latitude_deg</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">horizon_buffer</span><span class="o">=</span><span class="default_value">0.04364</span></em>, <em class="sig-param"><span class="n">min_flux</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_flux</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">freq_range</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">run_check</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">check_extra</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">run_check_acceptability</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">inplace</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.source_cuts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.source_cuts" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform flux and horizon selections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>latitude_deg</strong> (<em>float</em>) – Latitude of telescope in degrees. Used to estimate rise/set lst.</p></li>
<li><p><strong>horizon_buffer</strong> (<em>float</em>) – Angle buffer for coarse horizon cut in radians.
Default is about 10 minutes of sky rotation. Components whose
calculated altitude is less than <cite>horizon_buffer</cite> are excluded.
Caution! The altitude calculation does not account for
precession/nutation of the Earth.
The buffer angle is needed to ensure that the horizon cut doesn’t
exclude sources near but above the horizon. Since the cutoff is
done using lst, and the lsts are calculated with astropy, the
required buffer should _not_ drift with time since the J2000 epoch.
The default buffer has been tested around julian date 2457458.0.</p></li>
<li><p><strong>min_flux</strong> (<em>float</em>) – Minimum stokes I flux to select [Jy]</p></li>
<li><p><strong>max_flux</strong> (<em>float</em>) – Maximum stokes I flux to select [Jy]</p></li>
<li><p><strong>freq_range</strong> (<em>astropy Quantity</em>) – Frequency range over which the min and max flux tests should be performed.
Must be length 2. If None, use the range over which the object is defined.</p></li>
<li><p><strong>run_check</strong> (<em>bool</em>) – Option to check for the existence and proper shapes of parameters
after downselecting data on this object (the default is True,
meaning the check will be run).</p></li>
<li><p><strong>check_extra</strong> (<em>bool</em>) – Option to check optional parameters as well as required ones (the
default is True, meaning the optional parameters will be checked).</p></li>
<li><p><strong>run_check_acceptability</strong> (<em>bool</em>) – Option to check acceptable range of the values of parameters after
downselecting data on this object (the default is True, meaning the
acceptable range check will be done).</p></li>
<li><p><strong>inplace</strong> (<em>bool</em>) – Option to do the cuts on the object in place or to return a copy
with the cuts applied.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.to_recarray">
<code class="sig-name descname">to_recarray</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.to_recarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.to_recarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a recarray of source components from this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>catalog_table</strong> (<em>recarray</em>) – recarray equivalent to SkyModel data.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This stores all SkyModel data in a contiguous array
that can be more easily handled with numpy.
This is used by pyuvsim for sharing catalog data via MPI.</p>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.update_positions">
<code class="sig-name descname">update_positions</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time</span></em>, <em class="sig-param"><span class="n">telescope_location</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.update_positions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.update_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the altitude/azimuth positions for source components.</p>
<p>From alt/az, calculate direction cosines (lmn)</p>
<p>Doesn’t return anything but updates the following attributes in-place:
* <code class="docutils literal notranslate"><span class="pre">pos_lmn</span></code>
* <code class="docutils literal notranslate"><span class="pre">alt_az</span></code>
* <code class="docutils literal notranslate"><span class="pre">time</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>astropy Time object</em>) – Time to update positions for.</p></li>
<li><p><strong>telescope_location</strong> (<em>astropy EarthLocation object</em>) – Telescope location to update positions for.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.write_healpix_hdf5">
<code class="sig-name descname">write_healpix_hdf5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.write_healpix_hdf5"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.write_healpix_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a set of HEALPix maps to an HDF5 file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Name of file to write to.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyradiosky.SkyModel.write_text_catalog">
<code class="sig-name descname">write_text_catalog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pyradiosky/skymodel.html#SkyModel.write_text_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyradiosky.SkyModel.write_text_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Write out this object to a text file.</p>
<p>Readable with <code class="xref py py-meth docutils literal notranslate"><span class="pre">read_text_catalog()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Path to output file (string)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">pyradiosky</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="skymodel_parameters.html">SkyModel Parameters</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">SkyModel Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="utility_functions.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_docs.html">Developer Docs</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="skymodel_parameters.html" title="previous chapter">SkyModel Parameters</a></li>
      <li>Next: <a href="utility_functions.html" title="next chapter">Utility Functions</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Radio Astronomy Software Group.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/skymodel.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>